import React from "react";
import styles from "./header.module.css";

import SortPopUp from '../sortPopUp/SortPopUp'

function Header() {
  const [visiblePopUp, setVisiblePopUp] = React.useState(false);
  const [activeItem, setActiveItem] = React.useState(0);
  const sortRef = React.useRef();
  const activeLabel = activeItem;


  const toggleVisiblePopUp = () => {
    setVisiblePopUp(!visiblePopUp)
  };
  
  const onSelectItem = (index) => {
    setActiveItem(index);
    setVisiblePopUp(false);
  }

  React.useEffect(() => {
    document.body.addEventListener('click', handleOutsideClick);
  },[]);

  const handleOutsideClick = (e) => {
    if(!e.path.includes(sortRef.current)) {
      setVisiblePopUp(false);
    }
  }

  return (
    <nav className={styles.header}>
      <div className={styles.header_wrapper}>
        <div className={styles.header_top__wrapper}>
          <section className={styles.header_top}>
          <a className={styles.header_top__tel} href='tel:+37322838787'>+(373) 22 83-87-87</a>
          <span className={styles.header_top__divider}>|</span>
          <div className={styles.header_top__links}>
            <a href="#"><svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_957_235)">
                <path
                  d="M6.08577 23.9151C4.65848 23.8502 3.88314 23.6127 3.36743 23.4115C2.6841 23.1455 2.19693 22.8288 1.68407 22.3166C1.17122 21.8045 0.853806 21.3173 0.589176 20.634C0.388029 20.1183 0.150504 19.3429 0.0855946 17.9157C0.0142658 16.3728 0 15.9099 0 12.0011C0 8.09225 0.0156923 7.63004 0.0848813 6.08577C0.14979 4.65848 0.388742 3.88457 0.588463 3.36743C0.854519 2.6841 1.17193 2.19693 1.68336 1.68336C2.1955 1.17122 2.68268 0.853092 3.36672 0.588463C3.88243 0.387315 4.65777 0.14979 6.08506 0.0848813C7.62861 0.0142658 8.09225 0 11.9996 0C15.9085 0 16.3707 0.0156923 17.9149 0.0848813C19.3422 0.14979 20.1161 0.388742 20.6333 0.588463C21.3166 0.853092 21.8038 1.17122 22.3166 1.68336C22.8295 2.1955 23.1455 2.68339 23.4115 3.36672C23.6127 3.88243 23.8502 4.65777 23.9151 6.08506C23.9857 7.62933 24 8.09154 24 12.0004C24 15.9077 23.9857 16.3714 23.9151 17.9157C23.8502 19.3429 23.6113 20.1183 23.4115 20.634C23.1455 21.3173 22.8288 21.8045 22.3166 22.3166C21.8045 22.8288 21.3166 23.1455 20.6333 23.4115C20.1176 23.6127 19.3422 23.8502 17.9149 23.9151C16.3721 23.9857 15.9085 24 11.9996 24C8.09225 24 7.62862 23.9864 6.08577 23.9151"
                  fill="white"
                />
                <path
                  d="M7.45664 12.0173C7.45664 9.50418 9.49046 7.46631 12 7.46631C14.5095 7.46631 16.5444 9.50418 16.5444 12.0173C16.5444 14.5305 14.5095 16.5684 12 16.5684C9.49046 16.5684 7.45664 14.5305 7.45664 12.0173ZM5 12.0173C5 15.8891 8.13389 19.0275 12 19.0275C15.8661 19.0275 19 15.8891 19 12.0173C19 8.14564 15.8661 5.0072 12 5.0072C8.13389 5.0072 5 8.14542 5 12.0173Z"
                  fill="#2A3B45"
                />
                <path
                  d="M18.2525 5.34063C18.0877 5.09353 17.9999 4.80307 18 4.50597C18.0003 4.10773 18.1585 3.72591 18.4398 3.44436C18.721 3.16282 19.1029 3.00458 19.5006 3.00439C19.7973 3.00451 20.0872 3.09273 20.3339 3.25789C20.5805 3.42305 20.7726 3.65773 20.886 3.93227C20.9995 4.2068 21.0291 4.50885 20.9711 4.80022C20.9131 5.09159 20.7701 5.35919 20.5602 5.56919C20.3504 5.77919 20.083 5.92215 19.792 5.97999C19.5011 6.03784 19.1995 6.00797 18.9254 5.89417C18.6514 5.78036 18.4172 5.58773 18.2525 5.34063Z"
                  fill="#2A3B45"
                />
              </g>
              <defs>
                <clipPath id="clip0_957_235">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg></a>
            <a href="#"><svg
              width="23"
              height="23"
              viewBox="0 0 23 23"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.8322 22.8855C4.46438 22.8234 3.72134 22.5961 3.22712 22.4036C2.57226 22.149 2.10539 21.8459 1.6139 21.3558C1.12242 20.8657 0.81823 20.3995 0.564627 19.7456C0.371861 19.2521 0.144233 18.5102 0.0820281 17.1443C0.0136714 15.6679 0 15.2249 0 11.4844C0 7.74385 0.0150385 7.30154 0.0813445 5.82376C0.143549 4.45792 0.372544 3.71732 0.563943 3.22245C0.818914 2.56854 1.1231 2.10234 1.61322 1.61088C2.10402 1.12079 2.5709 0.816364 3.22644 0.563127C3.72066 0.37064 4.4637 0.143341 5.83152 0.0812268C7.31076 0.0136516 7.75508 0 11.4997 0C15.2456 0 15.6886 0.0150167 17.1685 0.0812268C18.5363 0.143341 19.278 0.372005 19.7736 0.563127C20.4284 0.816364 20.8953 1.12079 21.3868 1.61088C21.8783 2.10098 22.1811 2.56786 22.4361 3.22177C22.6288 3.71527 22.8565 4.45724 22.9187 5.82308C22.9863 7.30086 23 7.74317 23 11.4837C23 15.2229 22.9863 15.6665 22.9187 17.1443C22.8565 18.5102 22.6275 19.2521 22.4361 19.7456C22.1811 20.3995 21.8776 20.8657 21.3868 21.3558C20.896 21.8459 20.4284 22.149 19.7736 22.4036C19.2793 22.5961 18.5363 22.8234 17.1685 22.8855C15.6899 22.9531 15.2456 22.9667 11.4997 22.9667C7.75508 22.9667 7.31076 22.9537 5.8322 22.8855"
                fill="white"
              />
              <g clip-path="url(#clip0_957_239)">
                <path
                  d="M12.0297 23V14.0065H9.58325V10.7684H12.0297V8.0026C12.0297 5.82924 13.4748 3.83337 16.8046 3.83337C18.1528 3.83337 19.1497 3.95901 19.1497 3.95901L19.0711 6.98286C19.0711 6.98286 18.0544 6.97324 16.945 6.97324C15.7442 6.97324 15.5518 7.51115 15.5518 8.40395V10.7684H19.1666L19.0093 14.0065H15.5518V23H12.0297Z"
                  fill="#2A3B45"
                />
              </g>
              <defs>
                <clipPath id="clip0_957_239">
                  <rect
                    width="9.58333"
                    height="19.1667"
                    fill="white"
                    transform="translate(9.58325 3.83337)"
                  />
                </clipPath>
              </defs>
            </svg></a>
            <a href="#"><svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.66412 4.60521L1.33203 7.23678V9.86836V11.842V13.8157L1.99807 16.4473L3.33016 18.421L5.99433 19.7368V23.0263C5.99433 24.6052 7.32641 24.342 7.99245 23.6842L10.6566 20.3947H12.6547H14.6529H17.317C17.8499 20.3947 18.8711 19.9561 19.3152 19.7368L20.6473 18.421L21.9793 17.7631L23.3114 15.7894V13.8157V11.842V9.21047L22.6454 7.89468V5.92099L21.3133 3.94731L20.6473 2.63152L18.6491 1.31573L16.651 0.657837H13.3208H9.32454L5.99433 1.31573L3.9962 2.63152L2.66412 4.60521Z"
                fill="white"
              />
              <path
                d="M21.2935 2.43438C20.6658 1.86316 18.1253 0.0420988 12.461 0.0176878C12.461 0.0176878 5.78343 -0.37777 2.53116 2.57108C0.722142 4.35796 0.0845384 6.9797 0.0153412 10.2264C-0.0538561 13.473 -0.137881 19.5562 5.79825 21.2064H5.8032L5.79825 23.7256C5.79825 23.7256 5.75871 24.746 6.4408 24.9511C7.26128 25.205 7.74566 24.4287 8.53155 23.5938C8.96156 23.1349 9.55468 22.4612 10.0045 21.9485C14.0673 22.2854 17.1861 21.514 17.542 21.4017C18.3625 21.1381 23.0037 20.5522 23.7549 14.469C24.5359 8.19049 23.3793 4.22614 21.2935 2.43438ZM21.9805 14.0101C21.3429 19.0876 17.5816 19.4098 16.8896 19.6295C16.593 19.7222 13.8499 20.396 10.4048 20.1763C10.4048 20.1763 7.83463 23.2374 7.03392 24.0332C6.77196 24.292 6.48529 24.2676 6.49023 23.7549C6.49023 23.4181 6.51 19.5709 6.51 19.5709C6.50506 19.5709 6.50506 19.5709 6.51 19.5709C1.47837 18.1941 1.77493 13.0141 1.8293 10.3045C1.88367 7.59486 2.40265 5.37346 3.93487 3.87951C6.68793 1.414 12.3572 1.78016 12.3572 1.78016C17.1466 1.79969 19.44 3.22529 19.9738 3.70375C21.7383 5.1977 22.6379 8.77147 21.9805 14.0101Z"
                fill="white"
              />
              <path
                d="M14.4724 10.0938C14.4922 10.5136 15.1298 10.4844 15.11 10.0645C15.0408 8.66329 14.2747 7.88214 12.8957 7.80891C12.4756 7.7845 12.4361 8.4143 12.8611 8.43871C13.909 8.4973 14.4181 9.01969 14.4724 10.0938Z"
                fill="#2A3B45"
              />
              <path
                d="M12.3669 6.74459C14.853 6.92523 16.1628 8.54612 16.1134 10.6162C16.1035 11.0312 16.7461 11.0507 16.751 10.6308C16.8054 8.26783 15.2781 6.31984 12.4113 6.11478C11.9912 6.08549 11.9467 6.71529 12.3669 6.74459Z"
                fill="#2A3B45"
              />
              <path
                d="M17.7988 11.2753C17.7988 11.6951 18.4414 11.6903 18.4364 11.2704C18.4018 6.98381 15.4708 4.49878 11.8281 4.47437C11.408 4.47437 11.408 5.09929 11.8281 5.10417C15.0853 5.12858 17.7692 7.29628 17.7988 11.2753Z"
                fill="#2A3B45"
              />
              <path
                d="M17.8779 16.0696V16.0598C18.1152 15.6107 18.0361 15.1859 17.6901 14.9076C17.0772 14.3364 16.1529 13.7066 15.4264 13.3014C14.8876 13.0036 14.339 13.1891 14.1116 13.482L13.6371 14.0679C13.3949 14.3657 12.9452 14.3266 12.9452 14.3266C9.65828 13.4967 8.77849 10.2109 8.77849 10.2109C8.77849 10.2109 8.73894 9.76667 9.04045 9.52744L9.63357 9.05875C9.93013 8.83417 10.1179 8.29225 9.81644 7.76009C9.64345 7.46227 9.31229 6.93011 9.06516 6.59812C8.8032 6.24172 8.19031 5.51916 8.19031 5.51916C7.89869 5.17252 7.46374 5.0944 7.00901 5.32875H6.99913C6.05508 5.85603 5.02206 6.84223 5.35322 7.85773C5.35322 7.85773 5.58553 8.69747 6.63831 10.5771C7.13752 11.4754 7.65156 12.2224 8.16065 12.8522C8.72412 13.5601 9.45563 14.2973 10.2563 14.9223C11.8083 16.1428 14.2648 17.3927 15.3077 17.6807L15.3176 17.6954C16.3457 18.0225 17.3441 16.9972 17.8779 16.0696Z"
                fill="#2A3B45"
              />
            </svg></a>
            <a href="#"><svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.9975 0C5.38146 0 0 5.38264 0 11.9997C0 14.6238 0.846415 17.0578 2.28524 19.0333L0.789682 23.4921L5.40057 22.0178C7.29764 23.2735 9.56198 24 12.0025 24C18.6185 24 24 18.6172 24 12.0003C24 5.38344 18.6183 0.000596969 12.0025 0.000596969H11.9955L11.9975 0Z"
                fill="white"
              />
              <path
                d="M8.56427 5.65116C8.34256 5.06115 8.1615 5.0397 7.81417 5.01588L7.41806 5C6.96726 5 6.49429 5.14294 6.20903 5.45502C5.86169 5.83619 5 6.72399 5 8.54565C5 10.3673 6.23637 12.1286 6.40413 12.3756C6.5778 12.6138 8.81479 16.4144 12.2889 17.9597C15.0055 19.1691 15.811 19.0571 16.4296 18.915C17.3327 18.7061 18.4648 17.9891 18.7501 17.1235C19.0354 16.2579 19.0354 15.5194 18.9511 15.3606C18.8669 15.2018 18.6385 15.1224 18.2912 14.9278C17.9438 14.7333 16.2559 13.8455 15.9359 13.7255C15.6233 13.5985 15.3248 13.6438 15.0883 14.0019C14.7557 14.5022 14.4283 15.0104 14.1645 15.3153C13.9561 15.5536 13.6154 15.5853 13.3309 15.4583C12.9488 15.2867 11.8787 14.8833 10.5596 13.6215C9.53829 12.6448 8.84361 11.4266 8.64186 11.0613C8.44011 10.6881 8.62117 10.4713 8.7808 10.2696C8.95447 10.0378 9.12075 9.87417 9.29515 9.65818C9.46956 9.44218 9.56637 9.32942 9.67722 9.0761C9.79547 8.83787 9.71196 8.57582 9.62845 8.38921C9.54494 8.2026 8.85027 6.38014 8.56574 5.64163L8.56427 5.65116Z"
                fill="#2A3B45"
              />
            </svg></a>
          </div>
          <SortPopUp items={['RU', "ENG", 'MOL']}></SortPopUp>
        </section>
        </div>
      <section className={styles.header_bottom}>
        <div className={styles.header_bottom__wrapper}>
          <div className={styles.header_bottom__menu}>
          <svg
              width="31"
              height="14"
              viewBox="0 0 31 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.664551 1.9751H30.6646M0.664551 11.9751H30.6646"
                stroke="black"
                stroke-width="3"
              />
          </svg>
          </div>
          <div className={styles.header_bottom__logo}>
            <span className={styles.header_bottom__logo_main}>YOUR LOGO</span>
            <span className={styles.header_bottom__logo_add}>
              ADDITIONAL TEXT
            </span>
          </div>
          <div className={styles.header_bottom__search}>
            <svg
              width="21"
              height="21"
              viewBox="0 0 21 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M20 20L15.514 15.506M18 9.5C18 11.7543 17.1045 13.9163 15.5104 15.5104C13.9163 17.1045 11.7543 18 9.5 18C7.24566 18 5.08365 17.1045 3.48959 15.5104C1.89553 13.9163 1 11.7543 1 9.5C1 7.24566 1.89553 5.08365 3.48959 3.48959C5.08365 1.89553 7.24566 1 9.5 1C11.7543 1 13.9163 1.89553 15.5104 3.48959C17.1045 5.08365 18 7.24566 18 9.5V9.5Z"
                stroke="#343434"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
            <span>Прайс-лист</span>
          </div>
        </div>
      </section>
      </div>
    </nav>
  );
}

export default Header;
